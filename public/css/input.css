@tailwind base;
@tailwind components;
@tailwind utilities;

/* === Base (fonts, colors) === */
@layer base {
  html { font-family: Inter, ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Apple Color Emoji","Segoe UI Emoji"; }
  :root {
    --primary-500: #6D5EFC;
    --primary-600: #5a4de6;
  }
  .dark body { color-scheme: dark; }
}

/* === Components === */
@layer components {
  /* Card shells */
  .card {
    @apply rounded-xl border border-neutral-200/70 bg-white shadow-sm;
  }
  .dark .card {
    @apply border-white/10 bg-white/10 backdrop-blur;
  }

  .section-card {
    @apply card p-4 md:p-5;
  }
  .section-title {
    @apply text-base md:text-lg font-semibold;
  }

  /* Buttons */
  .btn {
    @apply inline-flex items-center justify-center rounded-lg px-3 py-2 text-sm font-medium transition;
  }
  .btn-sm { @apply px-2.5 py-1.5 text-xs; }
  .btn-lg { @apply px-4 py-2.5 text-base; }

  .btn-primary {
    @apply btn text-white bg-[var(--primary-500)] hover:bg-[var(--primary-600)] shadow;
  }
  .btn-ghost {
    @apply btn bg-neutral-900/5 hover:bg-neutral-900/10 dark:bg-white/10 dark:hover:bg-white/15;
  }
  .icon-btn {
    @apply inline-flex items-center gap-1 rounded-lg px-2.5 py-2 bg-neutral-900/5 hover:bg-neutral-900/10 dark:bg-white/10 dark:hover:bg-white/15;
  }

  /* Inputs */
  .input {
    @apply w-full rounded-lg border border-neutral-300 bg-white px-3 py-2 text-sm outline-none
           focus:ring-2 focus:ring-[var(--primary-500)] focus:border-transparent;
  }
  .dark .input {
    @apply border-white/10 bg-white/10 text-white placeholder:text-neutral-400;
  }

  /* Composer dropzone preview */
  .dropzone {
    @apply flex items-center justify-between gap-3 rounded-lg border border-dashed border-neutral-300 p-3;
  }
  .dark .dropzone { @apply border-white/20; }

  /* Toasts */
  .toast {
    @apply rounded-lg px-3 py-2 text-sm shadow;
  }
  .toast-success {
    @apply toast bg-emerald-500 text-white;
  }
  .toast-error {
    @apply toast bg-rose-500 text-white;
  }

  /* Rings / misc */
  .ring-elevated { @apply ring-4 ring-white/70 dark:ring-white/10; }

  /* Gradient CTA */
  .gradient-bg {
    background: linear-gradient(135deg,#8B5CF6, #6366F1 50%, #06B6D4);
  }

  /* App background (soft glow) */
  .zync-bg {
    @apply fixed inset-0 -z-10 opacity-[0.4];
    background:
      radial-gradient(600px 300px at 10% 10%, rgba(109,94,252,.18), transparent 60%),
      radial-gradient(500px 260px at 90% 20%, rgba(6,182,212,.14), transparent 60%),
      radial-gradient(500px 260px at 30% 90%, rgba(139,92,246,.12), transparent 60%);
    filter: blur(40px);
    pointer-events: none;
  }

  /* Feed layout helpers */
  .feed-wrap {
    @apply grid grid-cols-1 md:grid-cols-[1fr_minmax(0,620px)_1fr] gap-6;
    max-width: 1280px; /* center column + rails */
  }
  .feed-rail {
    @apply hidden md:block space-y-4;
  }

  /* Ad placeholders (replace with Adsense blocks later) */
  .ad-rect {
    @apply rounded border border-neutral-200/60 bg-neutral-100/60 text-neutral-500 flex items-center justify-center;
    min-height: 250px;
  }
  .dark .ad-rect {
    @apply border-white/10 bg-white/5 text-neutral-400;
  }

  /* Post card layout */
  .post {
    @apply card p-4 md:p-5 text-sm space-y-3 max-w-2xl mx-auto;
  }
  .post-header {
    @apply flex items-start gap-3;
  }
  .post-media img {
    @apply w-full rounded-lg border border-neutral-200/70 dark:border-white/10 object-cover;
    max-height: 26rem;
  }
  .post-actions {
    @apply flex flex-wrap items-center justify-between gap-2 border-t pt-3
           border-neutral-200/70 dark:border-white/10 text-neutral-600 dark:text-neutral-300;
  }

  /* Composer */
  .composer {
    @apply card p-4 md:p-5 space-y-3 max-w-2xl mx-auto;
  }
}

/* === Utilities (optional tweaks) === */
@layer utilities {
  .muted { @apply text-neutral-500 dark:text-neutral-400; }
  .soft-divider { @apply border-t border-neutral-200/70 dark:border-white/10; }
}
